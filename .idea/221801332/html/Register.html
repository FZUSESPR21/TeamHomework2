<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <link rel="stylesheet" href="../css/register.css">
    <script src="../js/eventhand.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/checkform.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>
<div class="box">
    <h2>Register</h2>
    <form class="form-box" action="/registered" method="post" onsubmit="return checkForm()">
        <div class="inputBox">
            <input class="login-text" type="text" id="username" name = "username" placeholder="请输入账号"> <br>
            <input class="login-text" type="password" id = "password" name = "password" placeholder="请输入密码"> <br>
        </div>

        <div class="checkBox">
            <span>请选择加入的论坛:</span><br>
            <span><input type="checkbox" name="tribune" value="1" />论坛1</span>
            <span><input type="checkbox" name="tribune" value="2" />论坛2</span>
            <span><input type="checkbox" name="tribune" value="3" />论坛3</span>
            <span><input type="checkbox" name="tribune" value="4" />论坛4</span>
            <span><input type="checkbox" name="tribune" value="5" />论坛5</span>
        </div>
        <div>
            <input type="submit" id = "register" class="register-btn" value = "注册">
            <input type="button" value="返回" class="login-btn" onclick="jumplogin()">
        </div>

    </form>
    <iframe name='hidden_frame' id="hidden_frame" style='display: none'></iframe>
</div>

</body>
<script>
    $('#hidden_frame').load(function(){
        var text=$(this).contents().find("body").text();
        // 根据后台返回值处理结果
        var j=$.parseJSON(text);
        if(j.username.length == 0) {
            alert("账号已存在");
        }
    });
</script>
</html>

