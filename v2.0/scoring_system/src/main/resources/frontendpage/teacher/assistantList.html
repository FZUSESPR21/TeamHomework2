<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>助教列表</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../layui/css/layui.css">
    <script src="../layui/layui.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/select.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/option.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/sidebarnavigation.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../bootstrap-table/dist/bootstrap-table.min.css">
    <link rel="stylesheet" href="../css/table.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap-table/1.15.4/bootstrap-table.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap-table/1.15.4/locale/bootstrap-table-zh-CN.min.js"></script>
    <link rel="stylesheet" href="../css/snstyle.css">
    <script src="../js/token-operation.js"></script>
</head>
<body>
    <div>
        <div class="clear">
            <ul class="layui-nav">
                <li class="layui-nav-item" id="manage-content">
                    <a onclick="manageClicked()">内容管理<span class="layui-nav-item"></span></a>
                </li>
                <li class="layui-nav-item layui-this">
                    <a onclick="userClicked()">用户管理<span class="layui-nav-item"></span></a>
                </li>
                <li class="layui-nav-item">
                    <a onclick="analysisClicked()">统计分析<span class="layui-nav-item"></span></a>
                </li>
                <li class="layui-nav-item" id="my-message">
                    <a href=""><img src="//t.cn/RCzsdCq" class="layui-nav-img">我</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">修改信息</a></dd>
                        <dd><a href="javascript:;" onclick="unLoadOnClick()">退出</a></dd>
                    </dl>
                </li>
            </ul>
            <div class="sidebar">
                <ul class="layui-nav layui-nav-tree" lay-filter="test" lay-shrink="all" id="content-manage" style="height: 100vh">
                    <!-- 侧边导航: <ul class="layui-nav layui-nav-tree layui-nav-side"> -->
                    <li class="layui-nav-item">
                        <a href="javascript:;">评分细则管理</a>
                        <dl class="layui-nav-child">
                            <dd><a href="detailList.html">所有细则</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item layui-nav-itemed">
                        <a href="javascript:;">成绩管理</a>
                        <dl class="layui-nav-child">
                            <dd><a href="scoreinquiry.html">成绩查询</a></dd>
                            <!--                    <dd><a href="assignmentScore.html">博客评分</a></dd>-->
                            <dd><a href="blogList.html">博客列表</a></dd>
                        </dl>
                    </li>
                </ul>

                <ul class="layui-nav layui-nav-tree" lay-filter="test" lay-shrink="all" id="user-manage"  style="height: 100vh">
                    <!-- 侧边导航: <ul class="layui-nav layui-nav-tree layui-nav-side"> -->
                    <li class="layui-nav-item">
                        <a href="javascript:;">团队管理</a>
                        <dl class="layui-nav-child">
                            <dd><a href="teamList.html" class="layui-this">所有团队</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript:;">结对管理</a>
                        <dl class="layui-nav-child">
                            <dd><a href="pairList.html">结对信息</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript:;">学生管理</a>
                        <dl class="layui-nav-child">
                            <dd><a href="studentList2.html">学生列表</a></dd>
                            <dd><a href="newstudents.html">增加学生</a></dd>
                            <dd><a href="newClasses.html">新建班级</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item layui-nav-itemed">
                        <a href="javascript:;">助教管理</a>
                        <dl class="layui-nav-child">
                            <dd><a href="assistantList.html" class="layui-this">助教列表</a></dd>
                            <dd><a href="newAssistant.html">增加助教</a></dd>
                        </dl>
                    </li>
                </ul>

                <ul class="layui-nav layui-nav-tree" lay-filter="test" lay-shrink="all" id="statistical-analysis"  style="height: 100vh">
                    <!-- 侧边导航: <ul class="layui-nav layui-nav-tree layui-nav-side"> -->
                    <li class="layui-nav-item  layui-nav-itemed">
                        <a href="javascript:;">统计分析</a>
                        <dl class="layui-nav-child">
                            <dd><a href="">千帆竟发图</a></dd>
                        </dl>
                    </li>
                </ul>
            </div>
        </div>
        <!--将各个部分代码填在以下div内-->
        <div class="page-wrapper">
            <table id="myTable" class="table table-hover text-nowrap"></table>
        </div>
    </div>
    <script>

        document.getElementById("content-manage").style.display="none";
        document.getElementById("user-manage").style.display="block";
        document.getElementById("statistical-analysis").style.display="none";

        var classRoom = getToken("class");
    
        $('#myTable').bootstrapTable({
            method: 'post',
            url: 'http://1.15.129.32:8888/teacher/assistant/show',
            striped: true, // 是否显示行间隔色
            pageNumber: 1, // 初始化加载第一页
            pagination: true, // 是否分页
            dataField: "list",
            sidePagination: 'client', // server:服务器端分页|client：前端分页
            height:600,
            sortable: true,
            search: true,
            showColumns: true, //筛选要显示的列
            showSearchClearButton: true, //显示搜索清除按钮
            pageSize: 10, // 单页记录数
            pageList: [10, 15],
    
            //sidePagination: "server", //表示服务端请求
            //设置为undefined可以获取pageNumber，pageSize，searchText，sortName，sortOrder
            //设置为limit可以获取limit, offset, search, sort, order
            contentType: "application/x-www-form-urlencoded",//必须要有！！！！
            queryParamsType : "undefined",
            queryParams: function queryParams(params) { //设置查询参数
                var param = {
                    classRoomId: getToken("class"),
                };
                return param;
            },

            onLoadError: function(){ //加载失败时执行
                layer.msg("加载数据失败", {time : 1500, icon : 2});
            },
            responseHandler:function(res){
                //在ajax获取到数据，渲染表格之前，修改数据源
                //该项返回的为数据源内的二级列表data
                return res.data;
            },
    
            paginationLoop: true,
            paginationHAlign: 'left',
            paginationDetailHAlign: 'right',
            paginationPreText: '上一页',
            paginationNextText: '下一页',
            columns: [{
                checkbox: true
            }, {
                title: '账号',
                field: 'account',
                sort: true,
                sortable: true,
            }, {
                title: '姓名',
                field: 'userName',
                sort: true,
                sortable: true,
                searchable:true,
            },
            //     {
            //     title: '密码',
            //     field: 'password',
            //     sortable: true,
            // },
                {
                field: 'operate',
                title: '操作',
                align: 'center',
                valign: 'middle',
                events: {
                    'click #edit': function (e, value, row, index) {
                        editInfo(row.id);
                    },
                    'click #delete': function (e, value, row, index) {
                        deleteInfo(row.id);
                    }
                },
                formatter: function (value, row, index) {
                    var result = "";
                   // result += '<button id="edit" class="btn btn-info" data-toggle="modal" data-target="#editModal">查看</button>';
                   //result += '<button id="delete" class="btn btn-info" style="margin-left:1%;">删除</button>';
                    return result;
                }
            }
            ]
        });
    
    </script>
    
</body>
</html>